(this["webpackJsonpupload-file-app"]=this["webpackJsonpupload-file-app"]||[]).push([[0],{109:function(e,t,s){"use strict";s.r(t);var n=s(1),l=s.n(n),i=s(45),c=s.n(i),a=(s(54),s(6),s(20),s(9)),o=s.n(a),u=s(10),r=s.n(u),j=s(11),p=s.n(j),d=s(0);var h,m=s(46),f=s(47),g=s(49),b=s(48),O=function(e){Object(g.a)(s,e);var t=Object(b.a)(s);function s(){var e;return Object(m.a)(this,s),(e=t.call(this)).login=function(){o.a.get("https://smart-scan-ooredoo.herokuapp.com/user/session",{withCredentials:!0}).then((function(t){console.log(t),e.setState({views:t.data.views}),e.setState({sessionID:t.data.sessionID}),e.setState({OTP:t.data.otp}),(h=r()("https://smart-scan-ooredoo.herokuapp.com")).emit("sessionID",t.data.sessionID,"web"),h.on("FromAPI",(function(t){e.setState({response:t})})),h.on("message",(function(t){console.log(t),e.setState({message:t})}))})).catch((function(e){}))},e.state={response:"",message:null,views:null,sessionID:null,OTP:null,pictures:null},e}return Object(f.a)(s,[{key:"componentDidMount",value:function(){this.login()}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){var s=this;null===this.state.message&&null!==t.message&&h.on("message",(function(e){console.log(e),s.setState({message:e,pictures:null})})),null!==this.state.message&&null===this.state.pictures&&null===t.pictures&&h.on("receive picture",(function(e){console.log(e),s.setState({pictures:e})}))}},{key:"render",value:function(){var e=this.state,t=e.response,s=e.message,n=e.views,l=e.sessionID,i=e.OTP;return Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Welcome!"}),Object(d.jsx)("p",{})]}),null===s?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("p",{style:{display:"flex"},children:["views :",Object(d.jsx)("span",{style:{marginLeft:10}}),null!==n?n:null]}),Object(d.jsxs)("p",{style:{display:"flex"},children:["sessionID :",Object(d.jsx)("span",{style:{marginLeft:10}}),null!==l?l:null]}),Object(d.jsxs)("p",{style:{display:"flex"},children:["OTP :",Object(d.jsx)("span",{style:{marginLeft:10}}),null!==i?i:null]}),null!==i?Object(d.jsx)(p.a,{value:i}):null]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:s}),Object(d.jsx)("p",{})]}),Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(d.jsx)("h1",{children:"It's"})," ",Object(d.jsxs)("time",{style:{marginLeft:10},dateTime:t,children:["   ",t]})]}),null===this.state.pictures||null===s?null:Object(d.jsx)(d.Fragment,{children:this.state.pictures.map((function(e){return Object(d.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.data)})}))})]})}}]),s}(n.Component),x=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,110)).then((function(t){var s=t.getCLS,n=t.getFID,l=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),l(e),i(e),c(e)}))};c.a.render(Object(d.jsx)(l.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root")),x()},20:function(e,t,s){},54:function(e,t,s){},96:function(e,t){}},[[109,1,2]]]);
//# sourceMappingURL=main.717340c1.chunk.js.map